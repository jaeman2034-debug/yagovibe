# ğŸ¤– ì²œì¬ ëª¨ë“œ 2ë‹¨ê³„: AI ìë™ ìš”ì•½ ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1ï¸âƒ£ weeklyReportAI.ts (ì‹ ê·œ ìƒì„±)
- âœ… Cloud Scheduler í†µí•©
- âœ… ë§¤ì£¼ ì›”ìš”ì¼ 09:00 ìë™ ì‹¤í–‰
- âœ… Firestore stats ë°ì´í„° ìˆ˜ì§‘
- âœ… OpenAI GPT ìš”ì•½ ìƒì„±
- âœ… Firestore reports ì €ì¥

### 2ï¸âƒ£ AIWeeklySummary.tsx (ì‹ ê·œ ìƒì„±)
- âœ… Firestore ì‹¤ì‹œê°„ êµ¬ë…
- âœ… AI ìš”ì•½ ìë™ í‘œì‹œ
- âœ… ë¡œë”© ìƒíƒœ ì²˜ë¦¬
- âœ… ì—…ë°ì´íŠ¸ ì‹œê°„ í‘œì‹œ

### 3ï¸âƒ£ Home.tsx í†µí•©
- âœ… AIWeeklySummary ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
- âœ… AdminSummaryChartì™€ í•¨ê»˜ í‘œì‹œ

## ğŸ”„ ì™„ì „ ìë™í™” íë¦„

```
ë§¤ì£¼ ì›”ìš”ì¼ 09:00
  â†“
generateWeeklyReport ìë™ ì‹¤í–‰
  â†“
Firestore stats/weeklySummary ì½ê¸°
  â†“
OpenAI GPT ìš”ì•½ ìƒì„±
  â†“
Firestore reports/weeklyReport ì €ì¥
  â†“
React ì»´í¬ë„ŒíŠ¸ ìë™ ì—…ë°ì´íŠ¸
  â†“
í™ˆ í™”ë©´ì— AI ìš”ì•½ í‘œì‹œ
```

## ğŸ“Š Firestore êµ¬ì¡°

### Collection: stats
#### Document: weeklySummary
```json
{
  "labels": ["1ì£¼ì°¨", "2ì£¼ì°¨", "3ì£¼ì°¨", "4ì£¼ì°¨"],
  "signups": [12, 19, 14, 23],
  "activeUsers": [18, 25, 22, 28]
}
```

### Collection: reports
#### Document: weeklyReport
```json
{
  "summary": "ì´ë²ˆ ì£¼ ì‹ ê·œ ê°€ì…ì +23%, ê²½ê¸°ë¶ë¶€ í™œë™ ì¦ê°€ì„¸ ì§€ì†.",
  "updatedAt": "2025-10-27T12:00:00Z",
  "signups": [12, 19, 14, 23],
  "activeUsers": [18, 25, 22, 28]
}
```

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### ìë™ ì‹¤í–‰
- âœ… ë§¤ì£¼ ì›”ìš”ì¼ 09:00 ìë™ íŠ¸ë¦¬ê±°
- âœ… OpenAI API í˜¸ì¶œ
- âœ… Firestore ìë™ ì €ì¥

### ì‹¤ì‹œê°„ í‘œì‹œ
- âœ… onSnapshot ì‹¤ì‹œê°„ êµ¬ë…
- âœ… ìë™ ì—…ë°ì´íŠ¸
- âœ… ë¡œë”© ìƒíƒœ í‘œì‹œ

### ì‚¬ìš©ì ê²½í—˜
- âœ… ê·¸ë¼ë””ì–¸íŠ¸ ë°°ê²½
- âœ… ëª…í™•í•œ ì œëª©
- âœ… ì—…ë°ì´íŠ¸ ì‹œê°„ í‘œì‹œ
- âœ… ë°˜ì‘í˜• ë””ìì¸

## ğŸš€ ë°°í¬

### 1. Firebase Functions ë°°í¬
```bash
cd functions
npm run build
firebase deploy --only functions:generateWeeklyReport
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
firebase functions:config:set \
  openai.key="sk-xxxx" \
  slack.webhook="https://hooks.slack.com/services/..."
```

### 3. ìˆ˜ë™ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
Firebase Console â†’ Functions â†’ generateWeeklyReport â†’ Run

## ğŸ¨ UI êµ¬ì¡°

```
Home í˜ì´ì§€
  â”œâ”€ AIWelcomeCard
  â”œâ”€ CategoryGrid
  â”œâ”€ QuickReportCard
  â””â”€ AI ë¦¬í¬íŠ¸ ì„¹ì…˜
      â”œâ”€ ğŸ§  AIWeeklySummary (ì‹ ê·œ)
      â”‚   â”œâ”€ ì œëª©: AI ìë™ ìš”ì•½ ë¦¬í¬íŠ¸
      â”‚   â”œâ”€ OpenAI ìš”ì•½ í…ìŠ¤íŠ¸
      â”‚   â””â”€ ì—…ë°ì´íŠ¸ ì‹œê°„
      â””â”€ ğŸ“Š AdminSummaryChart
          â””â”€ Line ì°¨íŠ¸ (ì‹¤ì‹œê°„ í†µê³„)
```

## ğŸ“ OpenAI í”„ë¡¬í”„íŠ¸

```typescript
const prompt = `
ë‹¤ìŒ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°„ê²°í•˜ê³  ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ì£¼ê°„ ìš”ì•½ì„ ì‘ì„±í•´ì¤˜.

- ì‹ ê·œê°€ì…ì ìˆ˜: ${data?.signups?.join(", ")}
- í™œì„± ì‚¬ìš©ì ìˆ˜: ${data?.activeUsers?.join(", ")}
- ê¸°ê°„: ${data?.labels?.join(", ")}

ìš”ì•½ì€ 1~2ë¬¸ì¥ìœ¼ë¡œ ì‘ì„±í•´ì¤˜. ìˆ«ìì™€ ë³€í™” ì¶”ì„¸ë¥¼ ê°•ì¡°í•´ì£¼ì„¸ìš”.
`;
```

## âœ¨ ì£¼ìš” íŠ¹ì§•

### ì™„ì „ ìë™í™”
- âœ… ì‚¬ëŒ ê°œì… ì—†ì´ ìë™ ì‹¤í–‰
- âœ… AI ìš”ì•½ ìë™ ìƒì„±
- âœ… í™”ë©´ ìë™ ì—…ë°ì´íŠ¸

### ì‹¤ì‹œê°„ ë™ê¸°í™”
- âœ… Firestore ë³€ê²½ ì¦‰ì‹œ ë°˜ì˜
- âœ… onSnapshot ìë™ êµ¬ë…
- âœ… ë¦¬ì†ŒìŠ¤ ì •ë¦¬

### ì•ˆì „í•œ ì²˜ë¦¬
- âœ… ë¬¸ì„œ ì—†ì„ ë•Œ ê¸°ë³¸ ë©”ì‹œì§€
- âœ… ì—ëŸ¬ ë°œìƒ ì‹œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
- âœ… TypeScript íƒ€ì… ì•ˆì „ì„±

---

**ğŸ‰ ì²œì¬ ëª¨ë“œ 2ë‹¨ê³„ ì™„ë£Œ!**

AIê°€ ìë™ìœ¼ë¡œ ì£¼ê°„ ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•˜ê³  í™ˆ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤! ğŸ¤–ğŸ“Šâœ¨

