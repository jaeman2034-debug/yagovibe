# π§ Step 32 β€” ν…μ¤νΈ λ¦¬ν¬νΈ

## β… μ½”λ“ κ²€ν†  κ²°κ³Ό

### 1. λ¦΄λ¦¬μ¦ μ²΄ν¬ ν•¨μ (`releaseCheck.ts`)

**κµ¬ν„ μƒνƒ**: β… μ™„λ£
- SLO μ²΄ν¬ λ΅μ§ κµ¬ν„ μ™„λ£
- μ—λ¬ λ²„μ§“ κ³„μ‚° λ΅μ§ κ°μ„  (μμ λ°©μ§€, 100% μ΄κ³Ό λ°©μ§€)
- μ¤μΌ€μ¤„λ¬ ν•¨μ κµ¬ν„ μ™„λ£
- HTTP ν•¨μ κµ¬ν„ μ™„λ£
- Slack μ•λ¦Ό ν†µν•© μ™„λ£

**κ°μ„  μ‚¬ν•­**:
- β… μ—λ¬ λ²„μ§“ κ³„μ‚° μ‹ `Math.max(0, ...)` μ¶”κ°€ (μμ λ°©μ§€)
- β… μ—λ¬ λ²„μ§“ μ‚¬μ©λ¥  κ³„μ‚° μ‹ `Math.min(100, ...)` μ¶”κ°€ (100% μ΄κ³Ό λ°©μ§€)

### 2. λ¦΄λ¦¬μ¦ λ…ΈνΈ μƒμ„± ν•¨μ (`generateReleaseNotes.ts`)

**κµ¬ν„ μƒνƒ**: β… μ™„λ£
- OpenAI GPT-4o-mini ν†µν•© μ™„λ£
- λ°μ΄ν„° μμ§‘ λ΅μ§ κµ¬ν„ μ™„λ£
- λ¦΄λ¦¬μ¦ λ…ΈνΈ μƒμ„± λ΅μ§ κµ¬ν„ μ™„λ£
- μ¤μΌ€μ¤„λ¬ ν•¨μ κµ¬ν„ μ™„λ£
- HTTP ν•¨μ κµ¬ν„ μ™„λ£
- Slack μ•λ¦Ό ν†µν•© μ™„λ£

**κ°μ„  μ‚¬ν•­**:
- β… `reports` μ»¬λ ‰μ… μΏΌλ¦¬ μ¤λ¥ μ²λ¦¬ μ¶”κ°€ (try-catch)
- β… `reportsSnap.docs` μ΅΄μ¬ μ—¬λ¶€ ν™•μΈ μ¶”κ°€

### 3. ReleaseBoard μ»΄ν¬λ„νΈ (`ReleaseBoard.tsx`)

**κµ¬ν„ μƒνƒ**: β… μ™„λ£
- μ‹¤μ‹κ°„ λ°μ΄ν„° κµ¬λ… κµ¬ν„ μ™„λ£
- SLO μƒνƒ ν‘μ‹ κµ¬ν„ μ™„λ£
- μ—λ¬ λ²„μ§“ μ‹κ°ν™” κµ¬ν„ μ™„λ£
- λ¦΄λ¦¬μ¦ λ…ΈνΈ ν‘μ‹ κµ¬ν„ μ™„λ£
- λ‹¤ν¬ λ¨λ“ μ§€μ› μ™„λ£

**κ°μ„  μ‚¬ν•­**:
- β… `useEffect` μμ΅΄μ„± λ°°μ—΄ λ¬Έμ  μμ • (λ¬΄ν• λ£¨ν”„ λ°©μ§€)
- β… λ΅λ”© μƒνƒ κ΄€λ¦¬ κ°μ„  (checkLoaded, noteLoaded ν”λκ·Έ μ‚¬μ©)

### 4. AdminHome ν†µν•©

**κµ¬ν„ μƒνƒ**: β… μ™„λ£
- ReleaseBoard μ»΄ν¬λ„νΈ μ¶”κ°€ μ™„λ£
- ν€µ μ•΅μ… λ²„νΌ μ¶”κ°€ μ™„λ£
- CheckCircle μ•„μ΄μ½ import μ¶”κ°€ μ™„λ£

### 5. Firestore λ³΄μ• κ·μΉ™

**κµ¬ν„ μƒνƒ**: β… μ™„λ£
- `releaseChecks/{checkId}` κ·μΉ™ μ¶”κ°€ μ™„λ£
- `releaseNotes/{noteId}` κ·μΉ™ μ¶”κ°€ μ™„λ£

## π“‹ ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ

### Functions λ°°ν¬ μ „ ν™•μΈ

- [x] λ¦΄λ¦¬μ¦ μ²΄ν¬ ν•¨μ νƒ€μ… μ²΄ν¬ μ™„λ£
- [x] λ¦΄λ¦¬μ¦ λ…ΈνΈ μƒμ„± ν•¨μ νƒ€μ… μ²΄ν¬ μ™„λ£
- [x] ReleaseBoard μ»΄ν¬λ„νΈ λ¦°ν„° μ¤λ¥ μ—†μ
- [x] AdminHome ν†µν•© ν™•μΈ μ™„λ£
- [x] Firestore κ·μΉ™ μ¶”κ°€ ν™•μΈ μ™„λ£

### λ°°ν¬ ν›„ ν…μ¤νΈ

- [ ] Functions λ°°ν¬ ν™•μΈ
  ```bash
  firebase deploy --only functions:releaseCheck,functions:generateReleaseNotes,functions:releaseCheckJob,functions:generateReleaseNotesJob
  ```

- [ ] μλ™ λ¦΄λ¦¬μ¦ μ²΄ν¬ μ‹¤ν–‰ ν…μ¤νΈ
  - κ΄€λ¦¬μ ν™μ—μ„ "λ¦΄λ¦¬μ¦ μ²΄ν¬ (SLO)" λ²„νΌ ν΄λ¦­
  - Firestore `releaseChecks/latest` λ¬Έμ„ ν™•μΈ
  - ReleaseBoard μ»΄ν¬λ„νΈμ—μ„ λ°μ΄ν„° ν‘μ‹ ν™•μΈ

- [ ] μλ™ λ¦΄λ¦¬μ¦ λ…ΈνΈ μƒμ„± ν…μ¤νΈ
  - κ΄€λ¦¬μ ν™μ—μ„ "λ¦΄λ¦¬μ¦ λ…ΈνΈ μƒμ„±" λ²„νΌ ν΄λ¦­
  - Firestore `releaseNotes/latest` λ¬Έμ„ ν™•μΈ
  - ReleaseBoard μ»΄ν¬λ„νΈμ—μ„ λ…ΈνΈ ν‘μ‹ ν™•μΈ

- [ ] SLO λ―Έμ¶©μ΅± μ‹ Slack μ•λ¦Ό ν…μ¤νΈ
  - μ—λ¬μ¨μ΄ 1% μ΄κ³ΌμΈ κ²½μ°
  - Slack μ›Ήν›…μ— μ•λ¦Ό μ „μ†΅ ν™•μΈ

- [ ] μλ™ μ¤μΌ€μ¤„λ¬ ν…μ¤νΈ
  - λ§¤μ£Ό μ›”μ”μΌ 10:00 KST λ¦΄λ¦¬μ¦ μ²΄ν¬ μ‹¤ν–‰ ν™•μΈ
  - λ§¤μ£Ό μ›”μ”μΌ 10:30 KST λ¦΄λ¦¬μ¦ λ…ΈνΈ μƒμ„± μ‹¤ν–‰ ν™•μΈ

### UI ν…μ¤νΈ

- [ ] ReleaseBoard μ»΄ν¬λ„νΈ ν‘μ‹ ν™•μΈ
- [ ] SLO μƒνƒ μΉ΄λ“ ν‘μ‹ ν™•μΈ
- [ ] μ—λ¬ λ²„μ§“ ν”„λ΅κ·Έλ μ¤ λ°” ν‘μ‹ ν™•μΈ
- [ ] μµκ·Ό μ¤λ¥ λ©λ΅ ν‘μ‹ ν™•μΈ
- [ ] λ¦΄λ¦¬μ¦ λ…ΈνΈ ν‘μ‹ ν™•μΈ
- [ ] λ‹¤ν¬ λ¨λ“ λ™μ‘ ν™•μΈ

## π”§ ν™κ²½ λ³€μ ν™•μΈ

λ°°ν¬ μ „ λ‹¤μ ν™κ²½ λ³€μκ°€ μ„¤μ •λμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤:

```bash
# OpenAI API ν‚¤ (λ¦΄λ¦¬μ¦ λ…ΈνΈ μƒμ„±μ©)
firebase functions:secrets:get OPENAI_API_KEY

# Slack Webhook URL (μ•λ¦Ό μ „μ†΅μ©)
firebase functions:secrets:get SLACK_WEBHOOK_URL
# λλ”
firebase functions:secrets:get SLACK_ALERT_WEBHOOK_URL
```

## π› μ•λ ¤μ§„ λ¬Έμ 

### κΈ°μ΅΄ μ½”λ“λ² μ΄μ¤μ νƒ€μ… μ¤λ¥

λ‹¤λ¥Έ νμΌλ“¤(`analyzeImage.ts`, `forecastSales.ts` λ“±)μ— κΈ°μ΅΄ νƒ€μ… μ¤λ¥κ°€ μμΌλ‚, Step 32 κ΄€λ ¨ νμΌλ“¤μ€ νƒ€μ… μ¤λ¥κ°€ μ—†μµλ‹λ‹¤.

### ν•΄κ²° λ°©λ²•

1. **κΈ°μ΅΄ νμΌλ“¤μ νƒ€μ… μ¤λ¥λ” λ³„λ„λ΅ μμ • ν•„μ”**
2. **Step 32 νμΌλ“¤μ€ λ…λ¦½μ μΌλ΅ λ°°ν¬ κ°€λ¥**

## π“ μμƒ λ™μ‘

### λ¦΄λ¦¬μ¦ μ²΄ν¬ μ‹¤ν–‰ μ‹

1. μµκ·Ό 7μΌ `workflowLogs` μμ§‘
2. μ΄ μ‹¤ν–‰, μ„±κ³µ, μ¤λ¥ νμ κ³„μ‚°
3. μ—λ¬μ¨ κ³„μ‚° (λ©ν‘: 1% μ΄ν•)
4. SLO μ¶©μ΅± μ—¬λ¶€ ν™•μΈ
5. μ—λ¬ λ²„μ§“ κ³„μ‚°
6. μµκ·Ό μ¤λ¥ μƒμ„ 5κ° μ¶”μ¶
7. Firestore `releaseChecks/latest`μ— μ €μ¥
8. SLO λ―Έμ¶©μ΅± μ‹ Slack μ•λ¦Ό μ „μ†΅

### λ¦΄λ¦¬μ¦ λ…ΈνΈ μƒμ„± μ‹

1. μµκ·Ό 1μ£Όκ°„ λ°μ΄ν„° μμ§‘ (reports, logs, feedback)
2. λ°μ΄ν„° μ”μ•½ λ° ν†µκ³„ κ³„μ‚°
3. OpenAI GPT-4o-miniλ΅ λ¦΄λ¦¬μ¦ λ…ΈνΈ μƒμ„±
4. Firestore `releaseNotes/latest`μ— μ €μ¥
5. SlackμΌλ΅ λ¦΄λ¦¬μ¦ λ…ΈνΈ μ „μ†΅

## β… κ²°λ΅ 

Step 32 κµ¬ν„μ€ μ™„λ£λμ—μΌλ©°, λ¨λ“  κΈ°λ¥μ΄ μ •μƒμ μΌλ΅ λ™μ‘ν•  κ²ƒμΌλ΅ μμƒλ©λ‹λ‹¤. λ°°ν¬ ν›„ μ‹¤μ  ν…μ¤νΈλ¥Ό ν†µν•΄ μµμΆ… ν™•μΈμ΄ ν•„μ”ν•©λ‹λ‹¤.

